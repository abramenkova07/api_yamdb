# api_final_yatube

Проект api_final_yatube — это учебный проект Яндекс.Практикума, где реализована программная часть API для социальной сети.

## Функциональность

Что можно делать с помощью проекта:

- Создавать, редактировать и удалять посты
- Писать и удалять комментарии
- Читать посты и комментарии других людей
- Подписываться на других пользователей

## Tech

Проект написан на языке програмирования Python версии 3.11.2 с использованием:

- Django (3.2.16);
- djangorestframework (3.12.4);
- djoser (2.1.0);
- PyJWT (2.1.0) и другое.

Полный список доступен в файле requirements.txt

## Установка

Как развернуть проект на своём компьютере:

1. Cоздать и активировать виртуальное окружение:

```
python3 -m venv env
```

```
source env/bin/activate
```

2. Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

3. Выполнить миграции:

```
python3 manage.py migrate
```

4. Запустить проект:

```
python3 manage.py runserver
```

## Примеры запросов для неавторизованных пользователей

Без авторизации пользователи могут только читать публикации, комментарии и информацию о сообществах.

Получить список всех постов (GET):

```
http://127.0.0.1:8000/api/v1/posts/
```

Получить публикацию по id (GET):
```
http://127.0.0.1:8000/api/v1/posts/{id}/
```

Получить комментарии к публикации (GET):
```
http://127.0.0.1:8000/api/v1/{post_id}/comments/
```

## Примеры работы с API для авторизованных пользователей

- Создание публикаций (POST):

```
http://127.0.0.1:8000/api/v1/posts/
```

в body

```json
{
"text": "string",
"image": "string",
"group": 0
}
```

- Обновление публикации (PUT):

```
http://127.0.0.1:8000/api/v1/posts/{id}/
```

в body

```json
{
"text": "string",
"image": "string",
"group": 0
}
```

Получение доступа к эндпоинту /api/v1/follow/ (подписки) доступен только для авторизованных пользователей (GET).

```
http://127.0.0.1:8000/api/v1/follow/
```

## Авторизация

Чтобы получить доступ, нужно авторизироваться по JWT-токену (Joser). Его можно получить, выполнив POST запрос по адресу:

```
http://127.0.0.1:8000/api/v1/jwt/create/
```

Передав в body данные пользователя:

```json
{
"username": "string",
"password": "string"
}
```

Полученный токен добавляем в headers (postman), после чего буду доступны все функции проекта:

```
Authorization: Bearer {your_token}
```

Обновить JWT-токен (POST):

```
http://127.0.0.1:8000/api/v1/jwt/refresh/
```

Проверить JWT-токен (POST):

```
http://127.0.0.1:8000/api/v1/jwt/verify/
```

Автор проекта: Наталья Кокшарова
